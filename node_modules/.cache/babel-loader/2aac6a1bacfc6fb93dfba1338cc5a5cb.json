{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yeonwoopark/Desktop/github/wanted-pre-onboarding-fe-7/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yeonwoopark/Desktop/github/wanted-pre-onboarding-fe-7/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/yeonwoopark/Desktop/github/wanted-pre-onboarding-fe-7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UpdateTodo(_ref){var todo=_ref.todo,token=_ref.token;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isUpdate=_useState2[0],setIsUpdate=_useState2[1];var _useState3=useState(todo.todo),_useState4=_slicedToArray(_useState3,2),updateTodo=_useState4[0],setUpdateTodo=_useState4[1];var _useState5=useState(todo.isCompleted+\"\"),_useState6=_slicedToArray(_useState5,2),isCompleted=_useState6[0],setIsCompleted=_useState6[1];var handleButtonClick=function handleButtonClick(){setIsUpdate(!isUpdate);};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.put(\"http://ec2-3-38-135-202.ap-northeast-2.compute.amazonaws.com:8000/todos/\".concat(todo.id),{todo:updateTodo,isCompleted:isCompleted===\"true\"?true:false},{headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}});case 3:setIsUpdate(false);case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:isUpdate?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\uD560 \\uC77C\\uC744 \\uC218\\uC815\\uD558\\uC138\\uC694\",type:\"text\",value:updateTodo,onChange:function onChange(e){return setUpdateTodo(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:isCompleted,onChange:function onChange(e){return setIsCompleted(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uC81C\\uCD9C\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleButtonClick,children:\"\\uCDE8\\uC18C\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:handleButtonClick,children:\"\\uC218\\uC815\"})});}export default UpdateTodo;","map":{"version":3,"names":["axios","useState","UpdateTodo","todo","token","isUpdate","setIsUpdate","updateTodo","setUpdateTodo","isCompleted","setIsCompleted","handleButtonClick","handleSubmit","e","preventDefault","put","id","headers","Authorization","target","value"],"sources":["/Users/yeonwoopark/Desktop/github/wanted-pre-onboarding-fe-7/src/components/UpdateTodo.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\n\nfunction UpdateTodo({ todo, token }) {\n  const [isUpdate, setIsUpdate] = useState(false);\n  const [updateTodo, setUpdateTodo] = useState(todo.todo);\n  const [isCompleted, setIsCompleted] = useState(todo.isCompleted + \"\");\n\n  const handleButtonClick = () => {\n    setIsUpdate(!isUpdate);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await axios.put(\n      `http://ec2-3-38-135-202.ap-northeast-2.compute.amazonaws.com:8000/todos/${todo.id}`,\n      {\n        todo: updateTodo,\n        isCompleted: isCompleted === \"true\" ? true : false,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    setIsUpdate(false);\n  };\n  return (\n    <>\n      {isUpdate ? (\n        <>\n          <form onSubmit={handleSubmit}>\n            <input\n              placeholder=\"할 일을 수정하세요\"\n              type=\"text\"\n              value={updateTodo}\n              onChange={(e) => setUpdateTodo(e.target.value)}\n            />\n            <input\n              type=\"text\"\n              value={isCompleted}\n              onChange={(e) => setIsCompleted(e.target.value)}\n            />\n            <button type=\"submit\">제출</button>\n          </form>\n          <button onClick={handleButtonClick}>취소</button>\n        </>\n      ) : (\n        <button onClick={handleButtonClick}>수정</button>\n      )}\n    </>\n  );\n}\n\nexport default UpdateTodo;\n"],"mappings":"scAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,6IAEA,QAASC,WAAT,MAAqC,IAAfC,KAAe,MAAfA,IAAe,CAATC,KAAS,MAATA,KAAS,CACnC,cAAgCH,QAAQ,CAAC,KAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAoCL,QAAQ,CAACE,IAAI,CAACA,IAAN,CAA5C,yCAAOI,UAAP,eAAmBC,aAAnB,eACA,eAAsCP,QAAQ,CAACE,IAAI,CAACM,WAAL,CAAmB,EAApB,CAA9C,yCAAOA,WAAP,eAAoBC,cAApB,eAEA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9BL,WAAW,CAAC,CAACD,QAAF,CAAX,CACD,CAFD,CAIA,GAAMO,aAAY,6FAAG,iBAAOC,CAAP,oHACnBA,CAAC,CAACC,cAAF,GADmB,sBAEbd,MAAK,CAACe,GAAN,mFACuEZ,IAAI,CAACa,EAD5E,EAEJ,CACEb,IAAI,CAAEI,UADR,CAEEE,WAAW,CAAEA,WAAW,GAAK,MAAhB,CAAyB,IAAzB,CAAgC,KAF/C,CAFI,CAMJ,CACEQ,OAAO,CAAE,CACPC,aAAa,kBAAYd,KAAZ,CADN,CAEP,eAAgB,kBAFT,CADX,CANI,CAFa,QAenBE,WAAW,CAAC,KAAD,CAAX,CAfmB,sDAAH,kBAAZM,aAAY,6CAAlB,CAiBA,mBACE,yBACGP,QAAQ,cACP,wCACE,cAAM,QAAQ,CAAEO,YAAhB,wBACE,cACE,WAAW,CAAC,oDADd,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEL,UAHT,CAIE,QAAQ,CAAE,kBAACM,CAAD,QAAOL,cAAa,CAACK,CAAC,CAACM,MAAF,CAASC,KAAV,CAApB,EAJZ,EADF,cAOE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEX,WAFT,CAGE,QAAQ,CAAE,kBAACI,CAAD,QAAOH,eAAc,CAACG,CAAC,CAACM,MAAF,CAASC,KAAV,CAArB,EAHZ,EAPF,cAYE,eAAQ,IAAI,CAAC,QAAb,0BAZF,GADF,cAeE,eAAQ,OAAO,CAAET,iBAAjB,0BAfF,GADO,cAmBP,eAAQ,OAAO,CAAEA,iBAAjB,0BApBJ,EADF,CAyBD,CAED,cAAeT,WAAf"},"metadata":{},"sourceType":"module"}