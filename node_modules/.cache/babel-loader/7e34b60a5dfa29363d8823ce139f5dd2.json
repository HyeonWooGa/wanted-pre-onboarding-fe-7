{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yeonwoopark/Desktop/github/wanted-pre-onboarding-fe-7/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yeonwoopark/Desktop/github/wanted-pre-onboarding-fe-7/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/yeonwoopark/Desktop/github/wanted-pre-onboarding-fe-7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/yeonwoopark/Desktop/github/wanted-pre-onboarding-fe-7/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;// 리액트로 API(http://ec2-3-38-135-202.ap-northeast-2.compute.amazonaws.com:8000), JWT 사용하여 로그인 구현하기\n// 1. 로그인 페이지 구현하기\n// 2. 로그인 후 토큰 저장하기\n// 3. 로그인 후 토큰을 이용하여 API 요청하기\n// 4. 로그아웃 구현하기\nimport React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import styled from\"styled-components\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  height: 100vh;\\n  h1 {\\n    margin-bottom: 2rem;\\n  }\\n  form {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n    margin-bottom: 1rem;\\n    input {\\n      width: 20rem;\\n      height: 2rem;\\n      margin-bottom: 1rem;\\n    }\\n    button {\\n      width: 20rem;\\n      height: 2rem;\\n    }\\n  }\\n  div {\\n    span {\\n      cursor: pointer;\\n      color: rgb(88, 167, 255);\\n    }\\n  }\\n\"])));function SignIn(_ref){var setIsSignIn=_ref.setIsSignIn;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,access_token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.post(\"http://ec2-3-38-135-202.ap-northeast-2.compute.amazonaws.com:8000/auth/signin\",{email:email,password:password},{headers:{\"Content-Type\":\"application/json\"}});case 3:response=_context.sent;access_token=response.data.access_token;localStorage.setItem(\"access_token\",access_token);access_token?navigate(\"/todo\"):navigate(\"/\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},minLength:\"8\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uB85C\\uADF8\\uC778\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC544\\uC9C1 \\uACC4\\uC815\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694?\",\" \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setIsSignIn(false);},children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]});}export default SignIn;","map":{"version":3,"names":["React","useState","useNavigate","styled","axios","Wrapper","div","SignIn","setIsSignIn","email","setEmail","password","setPassword","navigate","handleSubmit","e","preventDefault","post","headers","response","access_token","data","localStorage","setItem","target","value"],"sources":["/Users/yeonwoopark/Desktop/github/wanted-pre-onboarding-fe-7/src/components/SignIn.js"],"sourcesContent":["// 리액트로 API(http://ec2-3-38-135-202.ap-northeast-2.compute.amazonaws.com:8000), JWT 사용하여 로그인 구현하기\n// 1. 로그인 페이지 구현하기\n// 2. 로그인 후 토큰 저장하기\n// 3. 로그인 후 토큰을 이용하여 API 요청하기\n// 4. 로그아웃 구현하기\n\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  h1 {\n    margin-bottom: 2rem;\n  }\n  form {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 1rem;\n    input {\n      width: 20rem;\n      height: 2rem;\n      margin-bottom: 1rem;\n    }\n    button {\n      width: 20rem;\n      height: 2rem;\n    }\n  }\n  div {\n    span {\n      cursor: pointer;\n      color: rgb(88, 167, 255);\n    }\n  }\n`;\n\nfunction SignIn({ setIsSignIn }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const response = await axios.post(\n      \"http://ec2-3-38-135-202.ap-northeast-2.compute.amazonaws.com:8000/auth/signin\",\n      {\n        email,\n        password,\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const { access_token } = response.data;\n    localStorage.setItem(\"access_token\", access_token);\n    access_token ? navigate(\"/todo\") : navigate(\"/\");\n  };\n\n  return (\n    <Wrapper>\n      <h1>로그인</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          placeholder=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          minLength=\"8\"\n        />\n        <button type=\"submit\">로그인</button>\n      </form>\n      <div>\n        아직 계정이 없으신가요?{\" \"}\n        <span onClick={() => setIsSignIn(false)}>회원가입</span>\n      </div>\n    </Wrapper>\n  );\n}\n\nexport default SignIn;\n"],"mappings":"4nBAAA;AACA;AACA;AACA;AACA;AAEA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,QAAO,CAAGF,MAAM,CAACG,GAAV,kmBAAb,CAiCA,QAASC,OAAT,MAAiC,IAAfC,YAAe,MAAfA,WAAe,CAC/B,cAA0BP,QAAQ,CAAC,EAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,GAAMC,SAAQ,CAAGX,WAAW,EAA5B,CAEA,GAAMY,aAAY,6FAAG,iBAAOC,CAAP,8IACnBA,CAAC,CAACC,cAAF,GADmB,sBAEIZ,MAAK,CAACa,IAAN,CACrB,+EADqB,CAErB,CACER,KAAK,CAALA,KADF,CAEEE,QAAQ,CAARA,QAFF,CAFqB,CAMrB,CACEO,OAAO,CAAE,CACP,eAAgB,kBADT,CADX,CANqB,CAFJ,QAEbC,QAFa,eAcXC,YAdW,CAcMD,QAAQ,CAACE,IAdf,CAcXD,YAdW,CAenBE,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAqCH,YAArC,EACAA,YAAY,CAAGP,QAAQ,CAAC,OAAD,CAAX,CAAuBA,QAAQ,CAAC,GAAD,CAA3C,CAhBmB,sDAAH,kBAAZC,aAAY,6CAAlB,CAmBA,mBACE,MAAC,OAAD,yBACE,0CADF,cAEE,cAAM,QAAQ,CAAEA,YAAhB,wBACE,cACE,IAAI,CAAC,OADP,CAEE,WAAW,CAAC,OAFd,CAGE,KAAK,CAAEL,KAHT,CAIE,QAAQ,CAAE,kBAACM,CAAD,QAAOL,SAAQ,CAACK,CAAC,CAACS,MAAF,CAASC,KAAV,CAAf,EAJZ,EADF,cAOE,cACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAGE,KAAK,CAAEd,QAHT,CAIE,QAAQ,CAAE,kBAACI,CAAD,QAAOH,YAAW,CAACG,CAAC,CAACS,MAAF,CAASC,KAAV,CAAlB,EAJZ,CAKE,SAAS,CAAC,GALZ,EAPF,cAcE,eAAQ,IAAI,CAAC,QAAb,gCAdF,GAFF,cAkBE,yFACgB,GADhB,cAEE,aAAM,OAAO,CAAE,yBAAMjB,YAAW,CAAC,KAAD,CAAjB,EAAf,sCAFF,GAlBF,GADF,CAyBD,CAED,cAAeD,OAAf"},"metadata":{},"sourceType":"module"}